<!doctype html>
<html>
	<head>
		<title></title>
		<meta charset='utf-8'>
		<meta name="viewport" content="width:device-width,initial-scale:1">
		<link rel="stylesheet" href="../css/bootstrap.css">
		<link rel="stylesheet" href="css/01.css">
		<script src="../js/jquery.min.js"></script>
		<script src="../js/popper.min.js"></script>
		<script src="../js/bootstrap.min.js"></script>
		 <script src="js/vue.js"></script>
	</head>
	<body>
	<header id="header" class="navbar navbar-dark navbar-expand-sm mybg">
	</header>
	<script>
    Vue.directive("focus",{
        inserted(elem){
            elem.focus();
        }
    });
</script>
		<section class="mybg3 d-flex">
		<div id='reginfo' class="container p-5">
			<h2>注册</h2>
			<p>如果您已是线下店铺会员，请使用会员手机号码注册。系统将自动绑定您的官网账号并合并您在官网和店铺的购物积分。</p>
			<p class="text-danger">*为必填项目</p>
			<form action="/user/reg" method='post'>
			<div class='leftbox' class="d-md-flex flex-column">
	  			<p>
					<label for="uname">用户名 *</label>
					<input type="text" name='uname' id='uname' placeholder='用户名' v-focus v-model='uname'>
					<span class="text-danger" ref='spanClass' ></span>
				</p>
				<p>
					<label for="upwd">密码 *</label>
					<input type="text" name='upwd' id='upwd' placeholder='密码' v-model='pwd'>
					<span class="text-danger" :class='spanClass'></span>
				</p>
				<p>
					<label for="cpwd">确认密码 *</label>
					<input type="text" name='cpwd' id='cpwd' placeholder='确认密码'>
					<span class="msg text-danger"></span>
				</p>
				<p>
					<label for="phone">手机号 *</label>
					<input type="text" name='phone' id='phone' placeholder='手机号'>
					<span class="msg text-danger"></span>
				</p>
			</div>
			<div class='rightbox' class="d-md-flex flex-column">
				<p>
					<label for="gender">性别</label>
					<select name="gender" id="gender" class="w-50" >
						<option disabled selected>请选择性别</option>
						<option value="1">男性</option>
						<option value="0">女性</option>
					</select>
				</p>
				<p class="email">
					<label for="email">电子邮件地址</label>
					<input type="email" name='email' id='email' placeholder='电子邮件地址'>
					<span class="msg text-danger"></span>
				</p>
				<p class="brithday">
					<label for="birthday">出生日期</label>
					<select name="yy" id="yy">
						<option disabled selected>—</option>
						<option>1990</option>
					</select>
					<span>年</span>
					<select name="mm" id="mm">
						<option disabled selected>—</option>
						<option>01</option>
					</select>
					<span>月</span>
					<select name="dd" id="dd">
						<option disabled selected>—</option>
						<option>01</option>
					</select>
					<span>日</span>
				</p>
				<p class='rulesInfo'>
					<input class="" type="checkbox" name='rules' id='rules' checked>
					<label for="rules" class="ml-2 w-75">
						我已经阅读并接受
						<a href="#" class="text-danger">个人信息收集声明</a>
					</label>
					<span class="msg2 text-danger">*请勾选并确保已阅读以上声明</span>
				</p>
			</div>
				<p>
					<input class="btn btn-dark regbtn" type="submit" value='注册'>
				</p>
			</form>
		</div>
		</section>
	<div id="footer" class="pt-2 mybg d-flex justify-content-sm-around">
	</div>
	</div>
	<script>
		new Vue({
			el:'.leftbox',
			data:{
				uname:"",
				pwd:"",
				msgtxt:"",
				spanClass:{ msg:false,msgin:false }
			},
			watch:{
				uname(){
					if(!(/^(\w|[\u4e00-\u9fa5]){3,12}$/.test(this.uname))){
						this.$refs.spanClass.msgin=true;
					}else{
						this.spanClass.msgin=false;
						this.spanClass.msg=true;
					}
				},
				pwd(){
					if(!(/^\w{6,}$/.test(this.pwd))){
						this.spanClass.msgin=true;
					}else{
						this.spanClass.msgin=false;
						this.spanClass.msg=true;
					}
				}
				
			}
		})
    </script>
	<script src='js/header.js'></script>
	</body>
</html>